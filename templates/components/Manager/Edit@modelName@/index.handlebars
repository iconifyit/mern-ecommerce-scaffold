/**
 *
 * Edit{{ModelName}}
 *
 */

import React from 'react';
import Button from '../../Common/Button';
import BaseManagerForm from '../BaseManagerForm';


const Edit{{ModelName}} = props => {
    const {
        user,
        {{ModelNameLowerCase}},
        {{ModelNameLowerCase}}Change,
        formErrors,
        update{{ModelName}},
        delete{{ModelName}},
        activate{{ModelName}}
    } = props;

    const handleSubmit = event => {
        event.preventDefault();
        update{{ModelName}}();
    };

    /* NOTE: slewis 2022-04-30
     * This approach is necessary to avoid bracket 
     * errors when Handlebars auto-generates the code. 
     */
    const entityChange = {{ModelNameLowerCase}}Change;
    const updateItem = update{{ModelName}};
    const deleteItem = delete{{ModelName}};
    const activateItem = activate{{ModelName}};
    const theEntity = {{ModelNameLowerCase}};

    console.log('Edit{{ModelName}}', {{ModelNameLowerCase}});

    return (
        <BaseManagerForm
            entity={theEntity}
            handleSubmit={handleSubmit}
            formErrors={formErrors}
            entityChange={entityChange}
            user={user}
            hasPrice={false}
            hasParent={false}
            hasFile={false}
            hasDimensions={false}
            hasCategory={false}
        >
            <div className='d-flex flex-column flex-md-row'>
                <Button
                    type='submit'
                    text='Save'
                    className='mb-3 mb-md-0 mr-0 mr-md-3'
                />
                <Button
                    variant='danger'
                    text='Delete'
                    onClick={() => deleteItem(theEntity._id)}
                />
            </div>
        </BaseManagerForm>
    );
};

export default Edit{{ModelName}};
